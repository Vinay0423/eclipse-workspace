{"failedCount":2,"prefixedPath":"src\/test\/java\/karate\/entrypass.feature","packageQualifiedName":"src.test.java.karate.entrypass","loopIndex":-1,"relativePath":"src\/test\/java\/karate\/entrypass.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":476838900,"millis":476.8389,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/entrypass-api-dev.azurewebsites.net\/'"}},{"result":{"nanos":3639300,"millis":3.6393,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":937200,"millis":0.9372,"status":"passed"},"step":{"line":9,"prefix":"Given","index":0,"text":"path '\/Employee\/uemss32815'"}},{"result":{"nanos":5041808600,"millis":5041.8086,"status":"passed"},"step":{"line":10,"prefix":"When","index":1,"text":"method POST"},"stepLog":"18:36:46.356 request:\n1 > POST https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/uemss32815\n1 > Accept: application\/json\n1 > Host: entrypass-api-dev.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_291)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:36:48.300 response time in milliseconds: 1905\n1 < 405\n1 < Content-Length: 0\n1 < Date: Mon, 20 Jun 2022 13:06:48 GMT\n1 < Server: Microsoft-IIS\/10.0\n1 < Allow: GET\n1 < CorrelationId: e6fa9053-953f-4e6e-8158-10c5e4e497d5\n1 < X-Powered-By: ASP.NET\n1 < Set-Cookie: ARRAffinity=eef76bc7016e3795417723304454635e1de6050271109330ad17ec80dff7ecae; Domain=entrypass-api-dev.azurewebsites.net; Secure\n1 < Set-Cookie: ARRAffinitySameSite=eef76bc7016e3795417723304454635e1de6050271109330ad17ec80dff7ecae; Domain=entrypass-api-dev.azurewebsites.net; Secure\n\n"},{"result":{"nanos":204000,"errorMessage":"status code was: 405, expected: 200, response time in milliseconds: 1905, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/uemss32815, response: \n\nsrc\/test\/java\/karate\/entrypass.feature:11","millis":0.204,"status":"failed"},"step":{"line":11,"prefix":"Then","index":2,"text":"status 200"},"stepLog":"18:36:48.312 src\/test\/java\/karate\/entrypass.feature:11\nThen status 200\nstatus code was: 405, expected: 200, response time in milliseconds: 1905, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/uemss32815, response: \n\nsrc\/test\/java\/karate\/entrypass.feature:11\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"And","index":3,"text":"print responseTime"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"And","index":4,"text":"print responseStatus"}}],"line":8,"description":"","durationMillis":5523.428,"failed":true,"error":"status code was: 405, expected: 200, response time in milliseconds: 1905, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/uemss32815, response: \n\nsrc\/test\/java\/karate\/entrypass.feature:11","executorName":"main","name":"Login api for user id","startTime":1655730402660,"refId":"[1:8]","endTime":1655730408312,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1389700,"millis":1.3897,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/entrypass-api-dev.azurewebsites.net\/'"}},{"result":{"nanos":419900,"millis":0.4199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1000900,"millis":1.0009,"status":"passed"},"step":{"line":17,"prefix":"Given","index":0,"text":"path 'Employee\/2\/Address'"}},{"result":{"nanos":499446400,"millis":499.4464,"status":"passed"},"step":{"line":18,"prefix":"And","index":1,"text":"def requestBody = read(\"addbody.json\")"}},{"result":{"nanos":33319100,"millis":33.3191,"status":"passed"},"step":{"line":19,"prefix":"And","index":2,"text":"request requestBody"}},{"result":{"nanos":3394320500,"millis":3394.3205,"status":"passed"},"step":{"line":20,"prefix":"When","index":3,"text":"method POST"},"stepLog":"18:36:49.035 request:\n1 > POST https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address\n1 > Accept: application\/json\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 474\n1 > Host: entrypass-api-dev.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_291)\n1 > Accept-Encoding: gzip,deflate\n{\"blockNoStreetName\":\"api testing\",\"floorNoUnitNo\":\"2\",\"postalCode\":323,\"occupant\":1,\"bedrooms\":1,\"bathrooms\":1,\"contactNo\":\"string\",\"latitude\":\"13.034\",\"longitude\":\"77.4888\",\"isSupervisor\":false,\"staffVerification\":false,\"staffEmployeeID\":0,\"addressImages\":[{\"type\":\"string1\",\"fileName\":\"test.jpeg\"},{\"type\":\"string2\",\"fileName\":\"test2.jpeg\"},{\"type\":\"string3\",\"fileName\":\"test3.jpeg\"},{\"type\":\"string4\",\"fileName\":\"test4.jpeg\"},{\"type\":\"string5\",\"fileName\":\"test2.jpeg\"}]}\n\n18:36:52.254 response time in milliseconds: 3215\n1 < 500\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Mon, 20 Jun 2022 13:06:52 GMT\n1 < Server: Microsoft-IIS\/10.0\n1 < Cache-Control: no-cache,no-store\n1 < Expires: -1\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < X-Powered-By: ASP.NET\n1 < Set-Cookie: ARRAffinity=eef76bc7016e3795417723304454635e1de6050271109330ad17ec80dff7ecae; Domain=entrypass-api-dev.azurewebsites.net; Secure\n1 < Set-Cookie: ARRAffinitySameSite=eef76bc7016e3795417723304454635e1de6050271109330ad17ec80dff7ecae; Domain=entrypass-api-dev.azurewebsites.net; Secure\n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:954e6e84-d96b-48ab-b876-fdeb36fa5ff4\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 89\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method1716(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\n"},{"result":{"nanos":119000,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 3215, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address, response: \n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:954e6e84-d96b-48ab-b876-fdeb36fa5ff4\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 89\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method1716(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\nsrc\/test\/java\/karate\/entrypass.feature:21","millis":0.119,"status":"failed"},"step":{"line":21,"prefix":"Then","index":4,"text":"status 200"},"stepLog":"18:36:52.263 src\/test\/java\/karate\/entrypass.feature:21\nThen status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 3215, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address, response: \n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:954e6e84-d96b-48ab-b876-fdeb36fa5ff4\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 89\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method1716(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\nsrc\/test\/java\/karate\/entrypass.feature:21\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":5,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"And","index":6,"text":"print responseTime"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"And","index":7,"text":"print responseStatus"}}],"line":16,"description":"","durationMillis":3930.0155,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 3215, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address, response: \n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:954e6e84-d96b-48ab-b876-fdeb36fa5ff4\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 89\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method1716(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\nsrc\/test\/java\/karate\/entrypass.feature:21","executorName":"main","name":"user should able to submit address verification","startTime":1655730408326,"refId":"[2:16]","endTime":1655730412263,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":3010200,"millis":3.0102,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/entrypass-api-dev.azurewebsites.net\/'"}},{"result":{"nanos":880800,"millis":0.8808,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":841200,"millis":0.8412,"status":"passed"},"step":{"line":28,"prefix":"Given","index":0,"text":"url 'https:\/\/entrypass.azurewebsites.net\/entrypass\/UATAPI\/Employee\/12\/ArtTest'"}},{"result":{"nanos":617100,"millis":0.6171,"status":"passed"},"step":{"line":29,"prefix":"And","index":1,"text":"request {\"testDate\": \"2022-03-25T15:47:01\", \"testResult\": false,\"fileName\": \"8cd4d44c-654c-46c7-943b-089c33b179e0_Image from iOS (36).png\",\"testKit\": \"1\",\"temperature\": \"23.1\",\"remarks\": \"none\"}"}},{"result":{"nanos":1527493500,"millis":1527.4935,"status":"passed"},"step":{"line":30,"prefix":"When","index":2,"text":"method POST"},"stepLog":"18:36:52.287 request:\n1 > POST https:\/\/entrypass.azurewebsites.net\/entrypass\/UATAPI\/Employee\/12\/ArtTest\n1 > Accept: application\/json\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 179\n1 > Host: entrypass.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_291)\n1 > Accept-Encoding: gzip,deflate\n{\"testDate\":\"2022-03-25T15:47:01\",\"testResult\":false,\"fileName\":\"8cd4d44c-654c-46c7-943b-089c33b179e0_Image from iOS (36).png\",\"testKit\":\"1\",\"temperature\":\"23.1\",\"remarks\":\"none\"}\n\n18:36:53.808 response time in milliseconds: 1521\n1 < 200\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Mon, 20 Jun 2022 13:06:52 GMT\n1 < Server: Kestrel\n1 < Transfer-Encoding: chunked\n1 < Vary: Accept-Encoding\n1 < CorrelationId: aa0edbab-2495-4503-924f-67c21037bd26\n1 < X-Powered-By: ASP.NET\n1 < Set-Cookie: ARRAffinity=808a6a0ef0c102ef31276a26069233b8c83f2c8a23e23b0e73f1b67565e586f6; Domain=entrypass.azurewebsites.net; Secure\n1 < Set-Cookie: ARRAffinitySameSite=808a6a0ef0c102ef31276a26069233b8c83f2c8a23e23b0e73f1b67565e586f6; Domain=entrypass.azurewebsites.net; Secure\n{\"result\":{\"success\":true,\"artTestId\":3082,\"employeeID\":12},\"correlationId\":null}\n"},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":31,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":33982700,"millis":33.9827,"status":"passed"},"step":{"line":32,"prefix":"And","index":4,"text":"print responseTime"},"stepLog":"18:36:53.842 [print] 1521 \n"},{"result":{"nanos":2371200,"millis":2.3712,"status":"passed"},"step":{"line":33,"prefix":"And","index":5,"text":"print responseStatus"},"stepLog":"18:36:53.847 [print] 200 \n"}],"executorName":"main","line":27,"name":"user should complete the art test successfully","description":"","durationMillis":1569.2145,"startTime":1655730412275,"failed":false,"refId":"[3:27]","endTime":1655730413847,"exampleIndex":-1}],"callDepth":0,"name":"entrypass login","description":"","resultDate":"2022-06-20 06:36:53 PM","durationMillis":11022.658,"passedCount":1}