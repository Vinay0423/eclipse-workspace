{"failedCount":1,"prefixedPath":"src\/test\/java\/karate\/addressverification.feature","packageQualifiedName":"src.test.java.karate.addressverification","loopIndex":-1,"relativePath":"src\/test\/java\/karate\/addressverification.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":190093700,"millis":190.0937,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'https:\/\/entrypass-api-dev.azurewebsites.net\/'"}},{"result":{"nanos":1191000,"millis":1.191,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":573900,"millis":0.5739,"status":"passed"},"step":{"line":8,"prefix":"Given","index":0,"text":"path 'Employee\/2\/Address'"}},{"result":{"nanos":311737600,"millis":311.7376,"status":"passed"},"step":{"line":9,"prefix":"And","index":1,"text":"def requestBody = read(\"addbody.json\")"}},{"result":{"nanos":31441600,"millis":31.4416,"status":"passed"},"step":{"line":10,"prefix":"And","index":2,"text":"request requestBody"}},{"result":{"nanos":9153089200,"millis":9153.0892,"status":"passed"},"step":{"line":11,"prefix":"When","index":3,"text":"method POST"},"stepLog":"12:54:54.702 request:\n1 > POST https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address\n1 > Accept: application\/json\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 474\n1 > Host: entrypass-api-dev.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_291)\n1 > Accept-Encoding: gzip,deflate\n{\"blockNoStreetName\":\"api testing\",\"floorNoUnitNo\":\"2\",\"postalCode\":323,\"occupant\":1,\"bedrooms\":1,\"bathrooms\":1,\"contactNo\":\"string\",\"latitude\":\"13.034\",\"longitude\":\"77.4888\",\"isSupervisor\":false,\"staffVerification\":false,\"staffEmployeeID\":0,\"addressImages\":[{\"type\":\"string1\",\"fileName\":\"test.jpeg\"},{\"type\":\"string2\",\"fileName\":\"test2.jpeg\"},{\"type\":\"string3\",\"fileName\":\"test3.jpeg\"},{\"type\":\"string4\",\"fileName\":\"test4.jpeg\"},{\"type\":\"string5\",\"fileName\":\"test2.jpeg\"}]}\n\n12:55:01.292 response time in milliseconds: 6539\n1 < 500\n1 < Content-Length: 6368\n1 < Content-Type: application\/json; charset=utf-8\n1 < Date: Thu, 07 Jul 2022 07:25:02 GMT\n1 < Server: Microsoft-IIS\/10.0\n1 < Cache-Control: no-cache,no-store\n1 < Expires: -1\n1 < Pragma: no-cache\n1 < X-Powered-By: ASP.NET\n1 < Set-Cookie: ARRAffinity=eef76bc7016e3795417723304454635e1de6050271109330ad17ec80dff7ecae; Domain=entrypass-api-dev.azurewebsites.net; Secure\n1 < Set-Cookie: ARRAffinitySameSite=eef76bc7016e3795417723304454635e1de6050271109330ad17ec80dff7ecae; Domain=entrypass-api-dev.azurewebsites.net; Secure\n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:69426a3c-b0a1-42c2-948c-af9bb7e566a7\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 96\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method27(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\n"},{"result":{"nanos":388600,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 6539, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address, response: \n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:69426a3c-b0a1-42c2-948c-af9bb7e566a7\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 96\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method27(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\nsrc\/test\/java\/karate\/addressverification.feature:12","millis":0.3886,"status":"failed"},"step":{"line":12,"prefix":"Then","index":4,"text":"status 200"},"stepLog":"12:55:01.362 src\/test\/java\/karate\/addressverification.feature:12\nThen status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 6539, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address, response: \n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:69426a3c-b0a1-42c2-948c-af9bb7e566a7\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 96\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method27(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\nsrc\/test\/java\/karate\/addressverification.feature:12\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"And","index":5,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":14,"prefix":"And","index":6,"text":"print responseTime"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"And","index":7,"text":"print responseStatus"}}],"line":6,"description":"","durationMillis":9688.5156,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 6539, url: https:\/\/entrypass-api-dev.azurewebsites.net\/Employee\/2\/Address, response: \n{\"correlationId\":null,\"result\":{\"statusCode\":500,\"status\":500,\"errors\":[\"An error occurred while updating the entries. See the inner exception for details.\\r\\nThe INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\\r\\nThe statement has been terminated.\\r\\n\"],\"stackTrace\":[\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\",\" ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \\\"FK_tblEmployeeAddress_tblResidenceType\\\". The conflict occurred in database \\\"EntryPass\\\", table \\\"dbo.tblResidenceType\\\", column 'ResidenceTypeID'.\",\"The statement has been terminated.\",\"   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)\",\"   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\",\"   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"--- End of stack trace from previous location ---\",\"   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\",\"   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\",\"--- End of stack trace from previous location ---\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"ClientConnectionId:69426a3c-b0a1-42c2-948c-af9bb7e566a7\",\"Error Number:547,State:0,Class:16\",\"   --- End of inner exception stack trace ---\",\"   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\",\"   at UCS.Services.Business.AddressService.CreateAddressVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Services\\\\Business\\\\AddressService.cs:line 96\",\"   at UCS.Api.Controllers.AddressHistoryController.CreateAddresVerificationAsync(Int32 emplId, CreateAddressRQ request) in C:\\\\Users\\\\devops\\\\AppData\\\\Local\\\\Jenkins\\\\.jenkins\\\\workspace\\\\entrypass-api-dev\\\\src\\\\UCS.Api\\\\Controllers\\\\AddressController.cs:line 71\",\"   at lambda_method27(Closure , Object )\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\",\"   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\",\"   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\",\"   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\",\"   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)\"]}}\nsrc\/test\/java\/karate\/addressverification.feature:12","executorName":"main","name":"user should able to submit address verification","startTime":1657178691642,"refId":"[1:6]","endTime":1657178701363,"exampleIndex":-1}],"callDepth":0,"name":"Address verification successful","description":"","resultDate":"2022-07-07 12:55:01 PM","durationMillis":9688.5156,"passedCount":0}